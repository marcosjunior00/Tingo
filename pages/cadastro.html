<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Favicon -->
    <link rel="shortcut icon" href="imgs/favicon.png" type="image/x-icon" />

    <!-- Bootstrap -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />

    <!-- Folha de estilos personalizada -->
    <link rel="stylesheet" href="../css/style.css" />

    <!-- Fontawesome -->
    <link rel="stylesheet" href="fontawesome/css/all.css" />
    <link rel="stylesheet" href="fontawesome/css/brands.css" />

    <script>
      function verifyErrors() {
        var senhasIguais = false;
        var lengthSenha = false;
        var disabled = true;
        var btn_cadastro = document.getElementById("btnCadastro");
        btn_cadastro.style.disabled = true;
        btn_cadastro.style.backgroundColor = "#D6D6D6";

        var senha = document.getElementById("inpSenha");
        var ConfSenha = document.getElementById("ConfSenha").value;

        function verificacaoLength() {
          let senha = document.getElementById("inpSenha").value;
          let reqLengthPass = document.getElementById("caracteres");
          let comprimentoSenha = senha.length;

          if (comprimentoSenha > 6 && comprimentoSenha <= 28) {
            reqLengthPass.style.color = "green";
            lengthSenha = true;
            disabled = false
          } else {
            reqLengthPass.style.color = "red";
            lengthSenha = false;
            disabled = true
          }
        }

        function verificacaoIguais() {
          let senha = document.getElementById("inpSenha").value;
          let confSenha = document.getElementById("ConfSenha").value;
          let reqSenhaIgual = document.getElementById("senhasIguais");

          if (senha === confSenha) {
            reqSenhaIgual.style.color = "green";
            senhasIguais = true;
            disabled = false;
          } else {
            reqSenhaIgual.style.color = "red";
            senhasIguais = false;
            disabled = true;
          }
        }

        // Verificar se há alguma requisição faltante
        if (senhasIguais == false || lengthSenha == false || disabled == true) {
          return alert("Respeite as requisições da senha!");
          btn_cadastro.style.disabled = true;
          btn_cadastro.style.backgroundColor = "#D6D6D6";
        } else {
          btn_cadastro.style.disabled = false;
          btn_cadastro.style.backgroundColor = "#b678e6";
        }
      }
    </script>

    <title>Cadastro - Tingo</title>
  </head>

  <body id="cadastro">
    <div class="row container">
      <div class="col-md-7">
        <form action="" method="POST">
          <fieldset>
            <h3>Cadastre-se</h3>

            <div class="row">
              <div class="col-md-6">
                <div class="inputBox">
                  <input
                    type="text"
                    name="nome"
                    id="nome"
                    class="inputUser"
                    required
                  />
                  <label for="nome" class="labelInput">Nome:</label>
                </div>
              </div>

              <div class="col-md-6">
                <div class="inputBox">
                  <input
                    type="text"
                    name="lastName"
                    id="lastName"
                    class="inputUser"
                    required
                  />
                  <label for="lastName" class="labelInput">Sobrenome:</label>
                </div>
              </div>
            </div>

            <br />

            <div class="row">
              <div class="col-md-8">
                <div class="inputBox">
                  <input
                    type="text"
                    name="email"
                    id="email"
                    class="inputUser"
                    required
                  />
                  <label for="email" class="labelInput">Email:</label>
                </div>
              </div>

              <div class="col-md-4">
                <div class="inputBox inputBox-Dt">
                  <label for="dtNasc" class="labelSelect lblDt"
                    >Data de nascimento:</label
                  >
                  <input
                    type="date"
                    name="dtNasc"
                    class="inputUser"
                    id="dtNasc"
                  />
                </div>
              </div>
            </div>

            <br />

            <div class="row">
              <div class="col-md-6">
                <div class="inputBox">
                  <input
                    type="text"
                    name="cpf"
                    id="cpf"
                    class="inputUser"
                    pattern="^[0-9]{3}.?[0-9]{3}.?[0-9]{3}-?[0-9]{2}"
                    required
                  />
                  <label for="cpf" class="labelInput">CPF:</label>
                </div>
              </div>

              <div class="col-md-6">
                <div class="inputBox selectBox">
                  <label for="genero" class="labelSelect">Gênero:</label>
                  <select name="genero" id="genero" class="inputUser">
                    <option value=""></option>
                    <option value="M">Masculino</option>
                    <option value="F">Feminino</option>
                  </select>
                </div>
              </div>
            </div>

            <br />

            <div class="inputBox">
              <input
                type="password"
                name="senha"
                id="inpSenha"
                class="inputUser"
                onkeydown="verificacaoLength()"
                required
              />
              <label for="inpSenha" class="labelInput lblPass">Senha:</label>
              <i class="fa fa-eye" aria-hidden="true"></i>
            </div>

            <br />

            <div class="inputBox">
              <input
                type="password"
                name="ConfSenha"
                id="ConfSenha"
                onkeydown="verificacaoIguais()"
                class="inputUser"
                required
              />
              <label for="ConfSenha" class="labelInput lblPass"
                >Confirme a senha:</label
              >
              <i class="fa fa-eye" aria-hidden="true"></i>
            </div>

            <ul id="verificacao">
              <li id="senhasIguais">
                <span class="description">As senhas devem ser idênticas</span>
              </li>
              <li id="caracteres">
                <span class="description"
                  >A sua senha deve ter entre 8 e 30 caracteres</span
                >
              </li>
            </ul>

            <a href="login.html" class="btn semCadastro">Entrar</a>

            <br />

            <input
              type="submit"
              onclick="verifyErrors()"
              value="Cadastrar"
              id="btnCadastro"
              class="botao"
            />
          </fieldset>
        </form>
      </div>

      <div class="col-md-5 img-container">
        <a href="../index.php" id="btnCadastro"
          ><img src="../imgs/cadastro-img.svg" alt="img cadastro" width="320"
        /></a>
      </div>
    </div>
  </body>
</html>
